
<!doctype html>
<html lang="ru" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://boramorka.github.io/LLM-book/ru/CHAPTER-3/%D0%9E%D1%82%D0%B2%D0%B5%D1%82%D1%8B%203.3/">
      
      
        <link rel="prev" href="../%D0%9E%D1%82%D0%B2%D0%B5%D1%82%D1%8B%203.2/">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.17">
    
    
      
        <title>3.3 Генерация квиза - LLMOps. Make AI Work For You.</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#33" class="md-skip">
          Перейти к содержанию
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Верхний колонтитул">
    <a href="../.." title="LLMOps. Make AI Work For You." class="md-header__button md-logo" aria-label="LLMOps. Make AI Work For You." data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LLMOps. Make AI Work For You.
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              3.3 Генерация квиза
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Выберите язык">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="../../../en/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="../../" hreflang="ru" class="md-select__link">
              Русский
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Поиск" placeholder="Поиск" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Поиск">
        
        <button type="reset" class="md-search__icon md-icon" title="Очистить" aria-label="Очистить" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Инициализация поиска
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/boramorka/LLM-book" title="Перейти к репозиторию" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    boramorka/LLM-book
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Навигация" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="LLMOps. Make AI Work For You." class="md-nav__button md-logo" aria-label="LLMOps. Make AI Work For You." data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    LLMOps. Make AI Work For You.
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/boramorka/LLM-book" title="Перейти к репозиторию" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    boramorka/LLM-book
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Обзор
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    ГЛАВА-1. OPEN AI API
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            ГЛАВА-1. OPEN AI API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-1/1.1%20%D0%92%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.1 Введение
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-1/1.2%20%D0%9A%D0%BB%D0%B0%D1%81%D1%81%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%86%D0%B8%D1%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.2 Классификация
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-1/1.3%20Advanced%20Moderaton/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.3 Advanced Moderation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-1/1.4%20%D0%9F%D1%80%D0%BE%D0%B4%D0%B2%D0%B8%D0%BD%D1%83%D1%82%D0%BE%D0%B5%20%D0%BC%D0%B0%D1%88%D0%B8%D0%BD%D0%BD%D0%BE%D0%B5%20%D1%80%D0%B0%D1%81%D1%81%D1%83%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.4 Продвинутое машинное рассуждение
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-1/1.5%20%D0%A1%D0%B8%D0%BB%D0%B0%20%D1%87%D0%B5%D0%B9%D0%BD%D0%B8%D0%BD%D0%B3%D0%B0%20%D0%BF%D1%80%D0%BE%D0%BC%D0%BF%D1%82%D0%BE%D0%B2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.5 Сила чейнинга промптов
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-1/1.6%20%D0%9F%D0%BE%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%B8%20%D0%BE%D1%86%D0%B5%D0%BD%D0%BA%D0%B0%20LLM-%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.6 Построение и оценка LLM-приложений
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-1/1.7%20%D0%98%D1%82%D0%BE%D0%B3%D0%B8%20%D0%B8%20%D1%80%D0%B0%D0%B7%D0%BC%D1%8B%D1%88%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.7 Итоги и размышления
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    ГЛАВА-2. LANGCHAIN
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            ГЛАВА-2. LANGCHAIN
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-2/2.1%20%D0%92%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.1 Введение
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-2/2.2%20%D0%97%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D1%87%D0%B8%D0%BA%D0%B8%20%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%BE%D0%B2%20LangChain/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.2 Загрузчики документов LangChain
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-2/2.3%20%D0%A3%D0%B3%D0%BB%D1%83%D0%B1%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%B2%20%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%B2%D0%BE%D0%B5%20%D1%80%D0%B0%D0%B7%D0%B1%D0%B8%D0%B5%D0%BD%D0%B8%D0%B5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.3 Углубление в текстовое разбиение
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-2/2.4%20%D0%A1%D0%B8%D0%BB%D0%B0%20%D1%8D%D0%BC%D0%B1%D0%B5%D0%B4%D0%B4%D0%B8%D0%BD%D0%B3%D0%BE%D0%B2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.4 Сила эмбеддингов
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-2/2.5%20%D0%A1%D0%B5%D0%BC%D0%B0%D0%BD%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9%20%D0%BF%D0%BE%D0%B8%D1%81%D0%BA.%20%D0%9F%D1%80%D0%BE%D0%B4%D0%B2%D0%B8%D0%BD%D1%83%D1%82%D1%8B%D0%B5%20%D1%81%D1%82%D1%80%D0%B0%D1%82%D0%B5%D0%B3%D0%B8%D0%B8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.5 Семантический поиск. Продвинутые стратегии
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-2/2.6%20RAG.%20%D0%A2%D0%B5%D1%85%D0%BD%D0%B8%D0%BA%D0%B8%20%D0%B4%D0%BB%D1%8F%20QA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.6 RAG. Техники для QA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-2/2.7%20%D0%A7%D0%B0%D1%82-%D0%B1%D0%BE%D1%82%D1%8B%20%D0%BD%D0%B0%20LangChain/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.7 Чат-боты на LangChain
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-2/2.8%20%D0%98%D1%82%D0%BE%D0%B3%D0%B8%20%D0%B8%20%D1%80%D0%B0%D0%B7%D0%BC%D1%8B%D1%88%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.8 Итоги и размышления
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    ГЛАВА-3. LLMOPS
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            ГЛАВА-3. LLMOPS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3.1%20%D0%92%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.1 Введение
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3.2%20%D0%92%D0%BE%D1%80%D0%BA%D1%84%D0%BB%D0%BE%D1%83%20%D1%81%20Kubeflow%20Pipelines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2 Воркфлоу с Kubeflow Pipelines
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3.3%20%D0%9C%D0%B5%D1%85%D0%B0%D0%BD%D0%B8%D0%B7%D0%BC%20%D0%B3%D0%B5%D0%BD%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8%20%D0%BA%D0%B2%D0%B8%D0%B7%D0%B0%20%D0%98%D0%98/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.3 Механизм генерации квиза ИИ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../3.4%20%D0%98%D1%82%D0%BE%D0%B3%D0%B8%20%D0%B8%20%D1%80%D0%B0%D0%B7%D0%BC%D1%8B%D1%88%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.4 Итоги и размышления
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Ответы
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Ответы
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-1/%D0%9E%D1%82%D0%B2%D0%B5%D1%82%D1%8B%201.1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.1 Введение
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-1/%D0%9E%D1%82%D0%B2%D0%B5%D1%82%D1%8B%201.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.2 Классификация
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-1/%D0%9E%D1%82%D0%B2%D0%B5%D1%82%D1%8B%201.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.3 Advanced Moderation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-1/%D0%9E%D1%82%D0%B2%D0%B5%D1%82%D1%8B%201.4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.4 Продвинутое рассуждение
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-1/%D0%9E%D1%82%D0%B2%D0%B5%D1%82%D1%8B%201.5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.5 Чейнинг промптов
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-1/%D0%9E%D1%82%D0%B2%D0%B5%D1%82%D1%8B%201.6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1.6 Построение и оценка
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-2/%D0%9E%D1%82%D0%B2%D0%B5%D1%82%D1%8B%202.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.2 Загрузчики документов
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-2/%D0%9E%D1%82%D0%B2%D0%B5%D1%82%D1%8B%202.3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.3 Разбиение текста
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-2/%D0%9E%D1%82%D0%B2%D0%B5%D1%82%D1%8B%202.4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.4 Эмбеддинги
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-2/%D0%9E%D1%82%D0%B2%D0%B5%D1%82%D1%8B%202.5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.5 Семантический поиск
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-2/%D0%9E%D1%82%D0%B2%D0%B5%D1%82%D1%8B%202.6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.6 RAG
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CHAPTER-2/%D0%9E%D1%82%D0%B2%D0%B5%D1%82%D1%8B%202.7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.7 Чат-боты
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%D0%9E%D1%82%D0%B2%D0%B5%D1%82%D1%8B%203.2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.2 Kubeflow Pipelines
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    3.3 Генерация квиза
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    3.3 Генерация квиза
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Содержание">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Содержание
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      Теория
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      Практика
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Практика">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      Задача 1: Создание датасета квиза
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      Задача 2: Генерация вопросов квиза с использованием промптов
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-langchain" class="md-nav__link">
    <span class="md-ellipsis">
      Задача 3: Реализация структурирования промптов LangChain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      Задача 4: Пайплайн генерации квиза
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      Задача 5: Переиспользуемая функция генерации квиза
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      Задача 6: Оценка сгенерированного контента квиза
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    <span class="md-ellipsis">
      Задача 7: Обработка недействительных запросов квиза
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8" class="md-nav__link">
    <span class="md-ellipsis">
      Задача 8: Тест оценки научного квиза
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Содержание">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Содержание
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      Теория
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      Практика
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Практика">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      Задача 1: Создание датасета квиза
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      Задача 2: Генерация вопросов квиза с использованием промптов
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-langchain" class="md-nav__link">
    <span class="md-ellipsis">
      Задача 3: Реализация структурирования промптов LangChain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      Задача 4: Пайплайн генерации квиза
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      Задача 5: Переиспользуемая функция генерации квиза
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      Задача 6: Оценка сгенерированного контента квиза
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    <span class="md-ellipsis">
      Задача 7: Обработка недействительных запросов квиза
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8" class="md-nav__link">
    <span class="md-ellipsis">
      Задача 8: Тест оценки научного квиза
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="33">Ответы 3.3</h1>
<h2 id="_1">Теория</h2>
<ol>
<li>Настройка окружения для генератора квизов включает импорт необходимых библиотек, подавление несущественных предупреждений и загрузку API-ключей (CircleCI, GitHub, OpenAI).</li>
<li>Структура датасета должна включать шаблон вопроса и «банк квизов», организованный по темам, категориям и фактам. Например: «История», «Технологии», «География» с соответствующими фактами.</li>
<li>Инженерия промптов направляет ИИ на генерацию контента, релевантного выбранной категории. Шаблон промпта может предписывать выбор тем из банка и формирование вопросов квиза.</li>
<li>Роль LangChain заключается в структурировании промпта, выборе языковой модели (LLM) и настройке парсера для обработки вывода.</li>
<li>Пайплайн генерации квиза представляет собой связку структурированного промпта, модели и парсера, реализованную с использованием LangChain Expression Language.</li>
<li>Для оценки релевантности и корректности сгенерированного контента квиза используются функции, такие как <code>evaluate_quiz_content</code>, которые проверяют наличие ожидаемых ключевых слов.</li>
<li>Проверка корректного отказа осуществляется с помощью функции <code>evaluate_request_refusal</code>, которая убеждается, что система возвращает ожидаемый отказ на запросы, выходящие за рамки ее компетенции.</li>
<li>Тест «наука» проверяет, что сгенерированные вопросы содержат индикаторы научной тематики (например, «физика», «химия», «биология», «астрономия»).</li>
<li>Базовые компоненты конфигурации CircleCI для Python-проекта включают: версию, орбы, задания (сборка/тестирование), образ Docker, шаги (извлечение кода/тесты) и рабочие процессы (workflows).</li>
<li>Кастомизация конфигурации CircleCI под проект предполагает настройку версии Python, команд для запуска тестов и добавление дополнительных шагов, чтобы точно отразить реальные процессы сборки, тестирования и развертывания.</li>
</ol>
<h2 id="_2">Практика</h2>
<p>Решения к заданиям:</p>
<h3 id="1">Задача 1: Создание датасета квиза</h3>
<p>Мы определим Python-словарь, который представляет собой коллекцию вопросов квиза, организуя их по предметам, каждый со своими категориями и фактами.</p>
<div class="highlight"><pre><span></span><code><span class="n">quiz_bank</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Historical Conflict&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;categories&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;History&quot;</span><span class="p">,</span> <span class="s2">&quot;Politics&quot;</span><span class="p">],</span>
        <span class="s2">&quot;facts&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;Began in 1914 and ended in 1918&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Involved two major alliances: the Allies and the Central Powers&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Known for the extensive use of trench warfare on the Western Front&quot;</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">&quot;Revolutionary Communication Technology&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;categories&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Technology&quot;</span><span class="p">,</span> <span class="s2">&quot;History&quot;</span><span class="p">],</span>
        <span class="s2">&quot;facts&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;Invented by Alexander Graham Bell in 1876&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Revolutionized long-distance communication&quot;</span><span class="p">,</span>
            <span class="s2">&quot;First words transmitted were &#39;Mr. Watson, come here, I want to see you&#39;&quot;</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">&quot;Iconic American Landmark&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;categories&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Geography&quot;</span><span class="p">,</span> <span class="s2">&quot;History&quot;</span><span class="p">],</span>
        <span class="s2">&quot;facts&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;Gifted to the United States by France in 1886&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Symbolizes freedom and democracy&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Located on Liberty Island in New York Harbor&quot;</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="2">Задача 2: Генерация вопросов квиза с использованием промптов</h3>
<p>Для этой функции мы будем генерировать вопросы квиза на основе заданной категории, обращаясь к релевантным предметам и фактам из <code>quiz_bank</code>. Этот подход демонстрирует, как манипулировать и форматировать строки в Python для конструирования осмысленных вопросов квиза.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">generate_quiz_questions</span><span class="p">(</span><span class="n">category</span><span class="p">):</span>
    <span class="c1"># Список для хранения сгенерированных вопросов</span>
    <span class="n">generated_questions</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Перебираем каждый предмет в банке квизов</span>
    <span class="k">for</span> <span class="n">subject</span><span class="p">,</span> <span class="n">details</span> <span class="ow">in</span> <span class="n">quiz_bank</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="c1"># Проверяем, есть ли категория в категориях предмета</span>
        <span class="k">if</span> <span class="n">category</span> <span class="ow">in</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;categories&quot;</span><span class="p">]:</span>
            <span class="c1"># Для каждого факта создаем вопрос и добавляем его в список</span>
            <span class="k">for</span> <span class="n">fact</span> <span class="ow">in</span> <span class="n">details</span><span class="p">[</span><span class="s2">&quot;facts&quot;</span><span class="p">]:</span>
                <span class="n">question</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Что описывается следующим фактом: </span><span class="si">{</span><span class="n">fact</span><span class="si">}</span><span class="s2">? Ответ: </span><span class="si">{</span><span class="n">subject</span><span class="si">}</span><span class="s2">.&quot;</span>
                <span class="n">generated_questions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">question</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">generated_questions</span>

<span class="c1"># Пример использования</span>
<span class="n">history_questions</span> <span class="o">=</span> <span class="n">generate_quiz_questions</span><span class="p">(</span><span class="s2">&quot;History&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">question</span> <span class="ow">in</span> <span class="n">history_questions</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">question</span><span class="p">)</span>
</code></pre></div>
<h3 id="3-langchain">Задача 3: Реализация структурирования промптов LangChain</h3>
<p>Для симуляции структурирования промпта квиза, как это может быть сделано с использованием LangChain, мы можем определить Python-функцию, которая форматирует список вопросов квиза в структурированный промпт. Этот структурированный промпт предназначен для имитации детальных инструкций и форматирования, которые направляли бы ИИ-модель в генерации или обработке контента квиза.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">structure_quiz_prompt</span><span class="p">(</span><span class="n">quiz_questions</span><span class="p">):</span>
    <span class="c1"># Define a delimiter for separating questions</span>
    <span class="n">section_delimiter</span> <span class="o">=</span> <span class="s2">&quot;####&quot;</span>

    <span class="c1"># Start with an introductory instruction</span>
    <span class="n">structured_prompt</span> <span class="o">=</span> <span class="s2">&quot;Инструкции для генерации индивидуального квиза:</span><span class="se">\n</span><span class="s2">Каждый вопрос отделен четырьмя символами решетки (####)</span><span class="se">\n\n</span><span class="s2">&quot;</span>

    <span class="c1"># Add each question, separated by the delimiter</span>
    <span class="k">for</span> <span class="n">question</span> <span class="ow">in</span> <span class="n">quiz_questions</span><span class="p">:</span>
        <span class="n">structured_prompt</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">section_delimiter</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">question</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>

    <span class="k">return</span> <span class="n">structured_prompt</span>

<span class="c1"># Пример использования</span>
<span class="n">quiz_questions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;В каком году была подписана Декларация независимости?&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Кто изобрел телефон?&quot;</span>
<span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">structure_quiz_prompt</span><span class="p">(</span><span class="n">quiz_questions</span><span class="p">))</span>
</code></pre></div>
<p>Эта функция принимает список вопросов квиза и возвращает одну строку, которая структурирует эти вопросы таким образом, чтобы симулировать вход для ИИ-модели генерации квиза, используя указанный разделитель для разделения вопросов.</p>
<h3 id="4">Задача 4: Пайплайн генерации квиза</h3>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">generate_quiz_questions</span><span class="p">(</span><span class="n">category</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Симулирует генерацию вопросов квиза на основе категории.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Заглушка для простой логики генерации вопросов на основе категории</span>
    <span class="n">questions</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;Science&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Что такое химический символ воды?&quot;</span><span class="p">,</span> <span class="s2">&quot;Какая планета известна как Красная планета?&quot;</span><span class="p">],</span>
        <span class="s2">&quot;History&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Кто был первым президентом Соединенных Штатов?&quot;</span><span class="p">,</span> <span class="s2">&quot;В каком году затонул Титаник?&quot;</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">questions</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">category</span><span class="p">,</span> <span class="p">[])</span>

<span class="k">def</span><span class="w"> </span><span class="nf">structure_quiz_prompt</span><span class="p">(</span><span class="n">quiz_questions</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Структурирует чат-промпт с предоставленными вопросами квиза.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">section_delimiter</span> <span class="o">=</span> <span class="s2">&quot;####&quot;</span>
    <span class="n">prompt</span> <span class="o">=</span> <span class="s2">&quot;Сгенерированные вопросы квиза:</span><span class="se">\n\n</span><span class="s2">&quot;</span>
    <span class="k">for</span> <span class="n">question</span> <span class="ow">in</span> <span class="n">quiz_questions</span><span class="p">:</span>
        <span class="n">prompt</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">section_delimiter</span><span class="si">}</span><span class="s2"> Вопрос: </span><span class="si">{</span><span class="n">question</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
    <span class="k">return</span> <span class="n">prompt</span>

<span class="k">def</span><span class="w"> </span><span class="nf">select_language_model</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Симулирует выбор языковой модели.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Для этого примера мы предположим, что модель - это константная строка</span>
    <span class="k">return</span> <span class="s2">&quot;gpt-3.5-turbo&quot;</span>

<span class="k">def</span><span class="w"> </span><span class="nf">execute_language_model</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Симулирует выполнение выбранной языковой модели с заданным промптом.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Эта функция обычно отправляла бы промпт в модель и получала вывод.</span>
    <span class="c1"># Здесь мы симулируем это, повторяя промпт с подтверждением.</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Модель получила следующий промпт: </span><span class="si">{</span><span class="n">prompt</span><span class="si">}</span><span class="se">\n</span><span class="s2">Модель: &#39;Вопросы квиза успешно структурированы.&#39;&quot;</span>

<span class="k">def</span><span class="w"> </span><span class="nf">format_model_output</span><span class="p">(</span><span class="n">model_output</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Форматирует вывод из языковой модели.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Симулируем парсинг и форматирование вывода модели для читаемости</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Отформатированный вывод модели:</span><span class="se">\n</span><span class="si">{</span><span class="n">model_output</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="k">def</span><span class="w"> </span><span class="nf">generate_quiz_pipeline</span><span class="p">(</span><span class="n">category</span><span class="o">=</span><span class="s2">&quot;Science&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Расширенный пайплайн генерации квиза, который симулирует каждый шаг в процессе генерации квиза.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Настройка пайплайна генерации квиза...&quot;</span><span class="p">)</span>
    <span class="n">quiz_questions</span> <span class="o">=</span> <span class="n">generate_quiz_questions</span><span class="p">(</span><span class="n">category</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Вопросы квиза сгенерированы на основе категории.&quot;</span><span class="p">)</span>

    <span class="n">structured_prompt</span> <span class="o">=</span> <span class="n">structure_quiz_prompt</span><span class="p">(</span><span class="n">quiz_questions</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Структурирование чат-промпта с предоставленными вопросами квиза...&quot;</span><span class="p">)</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">select_language_model</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Выбрана языковая модель: </span><span class="si">{</span><span class="n">model</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">model_output</span> <span class="o">=</span> <span class="n">execute_language_model</span><span class="p">(</span><span class="n">structured_prompt</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Выполнение языковой модели со структурированным промптом...&quot;</span><span class="p">)</span>

    <span class="n">formatted_output</span> <span class="o">=</span> <span class="n">format_model_output</span><span class="p">(</span><span class="n">model_output</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Настройка парсера вывода для форматирования ответа ИИ-модели...&quot;</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">formatted_output</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Квиз успешно сгенерирован!&quot;</span><span class="p">)</span>

<span class="c1"># Пример использования с указанной категорией</span>
<span class="n">generate_quiz_pipeline</span><span class="p">(</span><span class="s2">&quot;History&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="5">Задача 5: Переиспользуемая функция генерации квиза</h3>
<p>Эта функция симулирует сборку необходимых компонентов для генерации квизов, таких как создание детального системного промпта на основе предоставленных параметров и симуляция выбора языковой модели и парсера вывода.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_structured_prompt</span><span class="p">(</span><span class="n">system_prompt_message</span><span class="p">,</span> <span class="n">user_question_template</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Симулирует создание структурированного промпта, объединяющего системные инструкции и шаблон пользовательского вопроса.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">system_prompt_message</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">Шаблон для вопросов: </span><span class="si">{</span><span class="n">user_question_template</span><span class="si">}</span><span class="s2">&quot;</span>

<span class="k">def</span><span class="w"> </span><span class="nf">select_language_model</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Симулирует выбор языковой модели с конкретными конфигурациями.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Заглушка для выбора модели</span>
    <span class="n">model_name</span> <span class="o">=</span> <span class="s2">&quot;GPT-3.5-turbo&quot;</span>
    <span class="n">temperature</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="n">model_name</span><span class="p">,</span> <span class="n">temperature</span>

<span class="k">def</span><span class="w"> </span><span class="nf">simulate_model_response</span><span class="p">(</span><span class="n">structured_prompt</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Симулирует генерацию ответа из выбранной языковой модели на основе структурированного промпта.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Здесь происходил бы фактический API вызов к языковой модели</span>
    <span class="c1"># Для целей симуляции мы вернем мок-ответ</span>
    <span class="k">return</span> <span class="s2">&quot;Сгенерирован макет квиза на основе структурированного промпта.&quot;</span>

<span class="k">def</span><span class="w"> </span><span class="nf">setup_output_parser</span><span class="p">(</span><span class="n">model_output</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Симулирует настройку парсера вывода для форматирования ответа модели.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Простое форматирование для демонстрации</span>
    <span class="n">formatted_output</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Отформатированный квиз: </span><span class="si">{</span><span class="n">model_output</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="k">return</span> <span class="n">formatted_output</span>

<span class="k">def</span><span class="w"> </span><span class="nf">generate_quiz_assistant_pipeline</span><span class="p">(</span><span class="n">system_prompt_message</span><span class="p">,</span> <span class="n">user_question_template</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{question}</span><span class="s2">&quot;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Создание структурированного промпта с системным сообщением и шаблоном пользовательского вопроса...&quot;</span><span class="p">)</span>
    <span class="n">structured_prompt</span> <span class="o">=</span> <span class="n">create_structured_prompt</span><span class="p">(</span><span class="n">system_prompt_message</span><span class="p">,</span> <span class="n">user_question_template</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Выбор языковой модели: GPT-3.5-turbo с температурой 0&quot;</span><span class="p">)</span>
    <span class="n">model_name</span><span class="p">,</span> <span class="n">temperature</span> <span class="o">=</span> <span class="n">select_language_model</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Симуляция ответа языковой модели...&quot;</span><span class="p">)</span>
    <span class="n">model_output</span> <span class="o">=</span> <span class="n">simulate_model_response</span><span class="p">(</span><span class="n">structured_prompt</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Настройка парсера вывода для форматирования ответов&quot;</span><span class="p">)</span>
    <span class="n">formatted_output</span> <span class="o">=</span> <span class="n">setup_output_parser</span><span class="p">(</span><span class="n">model_output</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Сборка компонентов в пайплайн генерации квиза...&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">formatted_output</span>

<span class="c1"># Пример использования с детальным системным промптом</span>
<span class="n">system_prompt_message</span> <span class="o">=</span> <span class="s2">&quot;Пожалуйста, сгенерируйте квиз на основе следующих категорий: Наука, История.&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">generate_quiz_assistant_pipeline</span><span class="p">(</span><span class="n">system_prompt_message</span><span class="p">))</span>
</code></pre></div>
<p>Эти функции предоставляют базовую симуляцию процессов, вовлеченных в структурирование промптов для генерации квизов на базе ИИ, сборку пайплайна для выполнения этой генерации и создание повторно используемой функции для генерации квизов с настраиваемыми параметрами.</p>
<h3 id="6">Задача 6: Оценка сгенерированного контента квиза</h3>
<p>Эта функция принимает сгенерированный контент квиза и список ожидаемых ключевых слов в качестве входных данных, чтобы убедиться, что сгенерированный контент соответствует ожидаемым темам или предметам. Она вызывает ошибку утверждения, если контент не содержит ни одного из ожидаемых ключевых слов, указывая на несоответствие между ожидаемым и сгенерированным контентом.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">evaluate_quiz_content</span><span class="p">(</span><span class="n">generated_content</span><span class="p">,</span> <span class="n">expected_keywords</span><span class="p">):</span>
    <span class="c1"># Проверяем, есть ли какие-либо из ожидаемых ключевых слов в сгенерированном контенте</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">any</span><span class="p">(</span><span class="n">keyword</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">generated_content</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">keyword</span> <span class="ow">in</span> <span class="n">expected_keywords</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">AssertionError</span><span class="p">(</span><span class="s2">&quot;Сгенерированный контент не содержит ни одного из ожидаемых ключевых слов.&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Сгенерированный контент успешно содержит ожидаемые ключевые слова.&quot;</span><span class="p">)</span>

<span class="c1"># Пример использования</span>
<span class="n">generated_content</span> <span class="o">=</span> <span class="s2">&quot;Закон всемирного тяготения был сформулирован Исааком Ньютоном в 17 веке.&quot;</span>
<span class="n">expected_keywords</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;гравитация&quot;</span><span class="p">,</span> <span class="s2">&quot;Ньютон&quot;</span><span class="p">,</span> <span class="s2">&quot;физика&quot;</span><span class="p">]</span>
<span class="n">evaluate_quiz_content</span><span class="p">(</span><span class="n">generated_content</span><span class="p">,</span> <span class="n">expected_keywords</span><span class="p">)</span>
</code></pre></div>
<h3 id="7">Задача 7: Обработка недействительных запросов квиза</h3>
<p>Эта функция симулирует оценку ответа системы на недействительный запрос квиза. Она проверяет, соответствует ли сгенерированный ответ об отказе ожидаемому ответу об отказе, подтверждая корректность обработки системой запросов, которые не могут быть выполнены.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">evaluate_request_refusal</span><span class="p">(</span><span class="n">invalid_request</span><span class="p">,</span> <span class="n">expected_response</span><span class="p">):</span>
    <span class="c1"># Симулируем генерацию ответа на недействительный запрос</span>
    <span class="n">generated_response</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Невозможно сгенерировать квиз для: </span><span class="si">{</span><span class="n">invalid_request</span><span class="si">}</span><span class="s2">&quot;</span>  <span class="c1"># Заглушка для фактического ответа об отказе</span>

    <span class="c1"># Проверяем, соответствует ли сгенерированный ответ ожидаемому ответу об отказе</span>
    <span class="k">assert</span> <span class="n">generated_response</span> <span class="o">==</span> <span class="n">expected_response</span><span class="p">,</span> <span class="s2">&quot;Ответ об отказе не соответствует ожидаемому ответу.&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Ответ об отказе корректно соответствует ожидаемому ответу.&quot;</span><span class="p">)</span>

<span class="c1"># Пример использования</span>
<span class="n">invalid_request</span> <span class="o">=</span> <span class="s2">&quot;Сгенерировать квиз о единорогах.&quot;</span>
<span class="n">expected_response</span> <span class="o">=</span> <span class="s2">&quot;Невозможно сгенерировать квиз для: Сгенерировать квиз о единорогах.&quot;</span>
<span class="n">evaluate_request_refusal</span><span class="p">(</span><span class="n">invalid_request</span><span class="p">,</span> <span class="n">expected_response</span><span class="p">)</span>
</code></pre></div>
<h3 id="8">Задача 8: Тест оценки научного квиза</h3>
<p>Эта функция демонстрирует использование функции <code>evaluate_quiz_content</code> в конкретном тестовом сценарии — проверке того, что сгенерированный научный квиз содержит вопросы, относящиеся к ожидаемым научным темам. Она симулирует генерацию контента квиза, а затем оценивает его на наличие научно-ориентированных ключевых слов.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_science_quiz</span><span class="p">():</span>
    <span class="c1"># Симулируем генерацию контента квиза</span>
    <span class="n">generated_content</span> <span class="o">=</span> <span class="s2">&quot;Изучение естественного мира посредством наблюдения и эксперимента известно как наука. Ключевые предметы включают биологию, химию, физику и науки о Земле.&quot;</span>

    <span class="c1"># Определяем ожидаемые ключевые слова или предметы для научного квиза</span>
    <span class="n">expected_science_subjects</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;биология&quot;</span><span class="p">,</span> <span class="s2">&quot;химия&quot;</span><span class="p">,</span> <span class="s2">&quot;физика&quot;</span><span class="p">,</span> <span class="s2">&quot;науки о Земле&quot;</span><span class="p">]</span>

    <span class="c1"># Используем функцию evaluate_quiz_content для проверки наличия ожидаемых ключевых слов</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">evaluate_quiz_content</span><span class="p">(</span><span class="n">generated_content</span><span class="p">,</span> <span class="n">expected_science_subjects</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Оценка содержания научного квиза пройдена успешно.&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">AssertionError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Оценка содержания научного квиза не пройдена: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Пример использования</span>
<span class="n">test_science_quiz</span><span class="p">()</span>
</code></pre></div>
<p>Эти функции в совокупности предоставляют механизмы для оценки релевантности и точности сгенерированного контента квиза, соответствующей обработки недействительных запросов и проведения целенаправленных тестов на контент квиза для обеспечения его соответствия конкретным образовательным или тематическим критериям.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  К началу
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.expand", "navigation.indexes", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0431\u0443\u0444\u0435\u0440", "clipboard.copy": "\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u0443\u0444\u0435\u0440", "search.result.more.one": "\u0415\u0449\u0451 1 \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.more.other": "\u0415\u0449\u0451 # \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435", "search.result.none": "\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e", "search.result.one": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e 1 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435", "search.result.other": "\u041d\u0430\u0439\u0434\u0435\u043d\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439: #", "search.result.placeholder": "\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430", "search.result.term.missing": "\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442", "select.version": "\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0435\u0440\u0441\u0438\u044e"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>